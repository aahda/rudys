---
import Layout from "../layouts/Layout.astro";
import Navigator from "../sections/Navigator.astro";
import Hero from "../sections/Hero.astro";
import Footer from "../sections/Footer.astro";
---

<Layout title="Rudy's" description="Restaurante Rudy's - Pollería y cevichería">
  <Navigator />
  <Hero />
  <Footer />
</Layout>

<style>
  .activo {
    display: none;
  }
</style>

<script>
  const PAGE_SECTIONS = Array.from(document.querySelectorAll(".pageSection"));

  const NAV_ANCHORS = Array.from(document.querySelectorAll(".navLink"));

  NAV_ANCHORS.forEach((anchor) => {
    anchor.addEventListener("click", () => {
      const index = NAV_ANCHORS.indexOf(anchor);

      if (!PAGE_SECTIONS[index].classList.contains("activo")) {
        PAGE_SECTIONS.forEach((section) => {
          section.classList.remove("activo");
          section.classList.add("hidden");
        });
        PAGE_SECTIONS[index].classList.add("activo");
        PAGE_SECTIONS[index].classList.remove("hidden");
      } else {
      }
    });
  });

  const FOOTER_ANCHORS = Array.from(document.querySelectorAll(".footerLink"));

  FOOTER_ANCHORS.forEach((anchor) => {
    anchor.addEventListener("click", () => {
      const index = FOOTER_ANCHORS.indexOf(anchor);

      if (!PAGE_SECTIONS[index].classList.contains("activo")) {
        PAGE_SECTIONS.forEach((section) => {
          section.classList.remove("activo");
          section.classList.add("hidden");
        });
        PAGE_SECTIONS[index].classList.add("activo");
        PAGE_SECTIONS[index].classList.remove("hidden");
      }
      window.scrollTo({
        top: 0,
        behavior: "smooth",
      });
    });
  });
</script>
